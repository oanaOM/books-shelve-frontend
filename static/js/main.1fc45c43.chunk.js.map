{"version":3,"sources":["components/InputBooks.js","components/EditBook.js","components/ListBooks.js","App.js","index.js"],"names":["InputBooks","useState","title","setTitle","author","setAuthor","onSubmitForm","e","a","preventDefault","body","fetch","method","headers","JSON","stringify","console","log","window","location","error","message","className","onSubmit","htmlFor","type","id","value","onChange","target","EditBook","book","updateTitle","book_id","meesage","data-toggle","data-target","tabIndex","aria-labelledby","aria-hidden","data-dismiss","aria-label","onClick","defaultValue","ListBooks","books","setBooks","deleteBook","filter","getBooks","response","json","jsonData","useEffect","scope","map","key","App","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.1fc45c43.chunk.js","sourcesContent":["import React, { Fragment, useState } from \"react\";\n\n\nconst InputBooks = () => {\n\n  const [title, setTitle] = useState(\"\");\n  const [author, setAuthor] = useState(\"\");\n\n    const onSubmitForm = async e => { \n        e.preventDefault();\n        \n        try {\n            const body = { title, author };\n            const response = await fetch(\"http://206.189.23.196:5005/books\", {\n              method: \"POST\",\n              headers: {\n                \"Content-Type\": \"application/json\",\n                \"Content-Security-Policy\": \"upgrade-insecure-requests\",\n              },\n              body: JSON.stringify(body),\n            });\nconsole.log(\">>>body: \", body);\n            window.location = \"/\";\n        } catch (err) {\n            console.error(err.message);\n        }\n    }\n\n\n  return (\n    <Fragment>\n     \n\n      <form className=\"d-flex flex-column mt-5\" onSubmit={onSubmitForm}>\n        <div className=\"mb-3\">\n          <label htmlFor=\"title\" className=\"form-label\">\n            Title\n          </label>\n          <input\n            type=\"text\"\n            className=\"form-control\"\n            id=\"title\"\n            value={title}\n            onChange={(e) => setTitle(e.target.value)}\n          />\n        </div>\n        <div className=\"mb-3\">\n          <label htmlFor=\"author\" className=\"form-label\">\n            Author\n          </label>\n          <input\n            type=\"text\"\n            className=\"form-control\"\n            id=\"author\"\n            value={author}\n            onChange={(e) => setAuthor(e.target.value)}\n          />\n        </div>\n        <button className=\"btn btn-success\"> Add</button>\n      </form>\n    </Fragment>\n  );\n};\n\nexport default InputBooks;\n","import React, { Fragment, useEffect, useState } from \"react\";\n\nconst EditBook = ({ book }) => {\n  const [title, setTitle] = useState(book.title);\n\n  // update book title\n\n  const updateTitle = async (e) => {\n    try {\n      e.preventDefault();\n      console.log(book.book_id);\n      const body = { title };\n      const response = await fetch(\n        `http://206.189.23.196:5005/books/${book.book_id}`,\n        {\n          method: \"PUT\",\n          headers: {\n            \"Content-Type\": \"application/json\",\n            \"Content-Security-Policy\": \"upgrade-insecure-requests\",\n          },\n          body: JSON.stringify(body),\n        }\n      );\n\n      window.location = \"/\";\n    } catch (err) {\n      console.log(err.meesage);\n    }\n  };\n\n  return (\n    <Fragment>\n      <button\n        type=\"button\"\n        className=\"btn btn-warning\"\n        data-toggle=\"modal\"\n        data-target={`#id${book.book_id}`}\n      >\n        Edit\n      </button>\n\n      <div\n        className=\"modal fade\"\n        id={`id${book.book_id}`}\n        tabIndex=\"-1\"\n        aria-labelledby=\"exampleModalLabel\"\n        aria-hidden=\"true\"\n      >\n        <div className=\"modal-dialog\">\n          <div className=\"modal-content\">\n            <div className=\"modal-header\">\n              <h5 className=\"modal-title\" id=\"exampleModalLabel\">\n                Edit book\n              </h5>\n              <button\n                type=\"button\"\n                className=\"close\"\n                data-dismiss=\"modal\"\n                aria-label=\"Close\"\n                onClick={() => {\n                  updateTitle(book.title);\n                }}\n              >\n                <span aria-hidden=\"true\">&times;</span>\n              </button>\n            </div>\n            <div className=\"modal-body\">\n              <input\n                type=\"text\"\n                className=\"form-control\"\n                defaultValue={title}\n                onChange={(e) => setTitle(e.target.value)}\n              />\n            </div>\n            <div className=\"modal-footer\">\n              <button\n                type=\"button\"\n                className=\"btn btn-success\"\n                onClick={(e) => {\n                  updateTitle(e);\n                }}\n              >\n                Save\n              </button>\n              <button\n                type=\"button\"\n                className=\"btn btn-secondary\"\n                data-dismiss=\"modal\"\n                onClick={() => {\n                  updateTitle(book.title);\n                }}\n              >\n                Close\n              </button>\n            </div>\n          </div>\n        </div>\n      </div>\n    </Fragment>\n  );\n};\n\nexport default EditBook;\n","import React, { Fragment, useEffect, useState} from \"react\";\nimport EditBook from \"./EditBook\";\n\nconst ListBooks = () => { \n\n    const [books, setBooks] = useState([]);\n\n    const deleteBook = async (id) => { \n        try {\n             await fetch(`http://206.189.23.196:5005/books/${id}`, {\n               method: \"DELETE\",\n               headers: { \"Content-Type\": \"application/json\" },\n             });\n            setBooks(books.filter(book => book.book_id !== id))\n        } catch (err) {\n            console.error(err.message);\n        }\n    }\n\n    const getBooks = async () => { \n        try {\n          const response = await fetch(\"http://206.189.23.196:5005/books\", {\n            headers: {\n              \"Content-Security-Policy\": \"upgrade-insecure-requests\"\n            },\n          });\n\n            const jsonData = await response.json();\n\n            setBooks(jsonData);\n        } catch (err) {\n            console.error(err.message);\n        }\n    }\n\n    useEffect(() => {\n        getBooks();\n    }, []);\n\n\n    return (\n      <Fragment>\n        <table className=\"table mt-4 text-center\">\n          <thead>\n            <tr>\n              <th scope=\"col\">#</th>\n              <th scope=\"col\" className=\"text-left\">\n                Title\n              </th>\n              <th scope=\"col\">Author</th>\n              <th scope=\"col\">Edit</th>\n              <th scope=\"col\">Delete</th>\n            </tr>\n          </thead>\n          <tbody>\n            {books.map((book) => (\n              <tr key={book.book_id}>\n                <td>{book.book_id}</td>\n                <td className=\"text-left\">{book.title}</td>\n                <td>{book.author}</td>\n                <td>\n                  <EditBook book={book} />\n                </td>\n                <td>\n                  <button\n                    className=\"btn btn-danger\"\n                    onClick={() => deleteBook(book.book_id)}\n                  >\n                    Delete\n                  </button>\n                </td>\n              </tr>\n            ))}\n          </tbody>\n        </table>\n      </Fragment>\n    );\n}\n\nexport default ListBooks;\n","import React, { Fragment } from 'react';\nimport './App.css';\n\n// components\n\nimport InputBooks from \"./components/InputBooks\";\nimport ListBooks from \"./components/ListBooks\";\n\nfunction App() {\n  return (\n    <Fragment>\n      <div className=\"container\">\n        <h1 className=\"text-center mt-4\">My Books</h1>\n            <InputBooks />\n            <ListBooks />\n      </div>\n    </Fragment>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n"],"sourceRoot":""}