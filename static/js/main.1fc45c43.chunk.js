(this.webpackJsonpbooks=this.webpackJsonpbooks||[]).push([[0],{11:function(e,t,a){},12:function(e,t,a){},14:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(5),l=a.n(c),o=(a(11),a(12),a(1)),s=a.n(o),u=a(2),i=a(3),m=function(){var e=Object(n.useState)(""),t=Object(i.a)(e,2),a=t[0],c=t[1],l=Object(n.useState)(""),o=Object(i.a)(l,2),m=o[0],d=o[1],b=function(){var e=Object(u.a)(s.a.mark((function e(t){var n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,n={title:a,author:m},e.next=5,fetch("http://206.189.23.196:5005/books",{method:"POST",headers:{"Content-Type":"application/json","Content-Security-Policy":"upgrade-insecure-requests"},body:JSON.stringify(n)});case 5:e.sent,console.log(">>>body: ",n),window.location="/",e.next=13;break;case 10:e.prev=10,e.t0=e.catch(1),console.error(e.t0.message);case 13:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement(n.Fragment,null,r.a.createElement("form",{className:"d-flex flex-column mt-5",onSubmit:b},r.a.createElement("div",{className:"mb-3"},r.a.createElement("label",{htmlFor:"title",className:"form-label"},"Title"),r.a.createElement("input",{type:"text",className:"form-control",id:"title",value:a,onChange:function(e){return c(e.target.value)}})),r.a.createElement("div",{className:"mb-3"},r.a.createElement("label",{htmlFor:"author",className:"form-label"},"Author"),r.a.createElement("input",{type:"text",className:"form-control",id:"author",value:m,onChange:function(e){return d(e.target.value)}})),r.a.createElement("button",{className:"btn btn-success"}," Add")))},d=function(e){var t=e.book,a=Object(n.useState)(t.title),c=Object(i.a)(a,2),l=c[0],o=c[1],m=function(){var e=Object(u.a)(s.a.mark((function e(a){var n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a.preventDefault(),console.log(t.book_id),n={title:l},e.next=6,fetch("http://206.189.23.196:5005/books/".concat(t.book_id),{method:"PUT",headers:{"Content-Type":"application/json","Content-Security-Policy":"upgrade-insecure-requests"},body:JSON.stringify(n)});case 6:e.sent,window.location="/",e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),console.log(e.t0.meesage);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement(n.Fragment,null,r.a.createElement("button",{type:"button",className:"btn btn-warning","data-toggle":"modal","data-target":"#id".concat(t.book_id)},"Edit"),r.a.createElement("div",{className:"modal fade",id:"id".concat(t.book_id),tabIndex:"-1","aria-labelledby":"exampleModalLabel","aria-hidden":"true"},r.a.createElement("div",{className:"modal-dialog"},r.a.createElement("div",{className:"modal-content"},r.a.createElement("div",{className:"modal-header"},r.a.createElement("h5",{className:"modal-title",id:"exampleModalLabel"},"Edit book"),r.a.createElement("button",{type:"button",className:"close","data-dismiss":"modal","aria-label":"Close",onClick:function(){m(t.title)}},r.a.createElement("span",{"aria-hidden":"true"},"\xd7"))),r.a.createElement("div",{className:"modal-body"},r.a.createElement("input",{type:"text",className:"form-control",defaultValue:l,onChange:function(e){return o(e.target.value)}})),r.a.createElement("div",{className:"modal-footer"},r.a.createElement("button",{type:"button",className:"btn btn-success",onClick:function(e){m(e)}},"Save"),r.a.createElement("button",{type:"button",className:"btn btn-secondary","data-dismiss":"modal",onClick:function(){m(t.title)}},"Close"))))))},b=function(){var e=Object(n.useState)([]),t=Object(i.a)(e,2),a=t[0],c=t[1],l=function(){var e=Object(u.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("http://206.189.23.196:5005/books/".concat(t),{method:"DELETE",headers:{"Content-Type":"application/json"}});case 3:c(a.filter((function(e){return e.book_id!==t}))),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),console.error(e.t0.message);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}(),o=function(){var e=Object(u.a)(s.a.mark((function e(){var t,a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("http://206.189.23.196:5005/books",{headers:{"Content-Security-Policy":"upgrade-insecure-requests"}});case 3:return t=e.sent,e.next=6,t.json();case 6:a=e.sent,c(a),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),console.error(e.t0.message);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){o()}),[]),r.a.createElement(n.Fragment,null,r.a.createElement("table",{className:"table mt-4 text-center"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",{scope:"col"},"#"),r.a.createElement("th",{scope:"col",className:"text-left"},"Title"),r.a.createElement("th",{scope:"col"},"Author"),r.a.createElement("th",{scope:"col"},"Edit"),r.a.createElement("th",{scope:"col"},"Delete"))),r.a.createElement("tbody",null,a.map((function(e){return r.a.createElement("tr",{key:e.book_id},r.a.createElement("td",null,e.book_id),r.a.createElement("td",{className:"text-left"},e.title),r.a.createElement("td",null,e.author),r.a.createElement("td",null,r.a.createElement(d,{book:e})),r.a.createElement("td",null,r.a.createElement("button",{className:"btn btn-danger",onClick:function(){return l(e.book_id)}},"Delete")))})))))};var p=function(){return r.a.createElement(n.Fragment,null,r.a.createElement("div",{className:"container"},r.a.createElement("h1",{className:"text-center mt-4"},"My Books"),r.a.createElement(m,null),r.a.createElement(b,null)))};l.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(p,null)),document.getElementById("root"))},6:function(e,t,a){e.exports=a(14)}},[[6,1,2]]]);
//# sourceMappingURL=main.1fc45c43.chunk.js.map